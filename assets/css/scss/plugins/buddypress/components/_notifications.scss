#buddypress .notifications-header {
    align-items: center;
    margin-bottom: 14px;

    .entry-title {
        margin: 0;
    }

    .subnav-filters {
        margin: 0;
    }
    
    #subnav {
        border: 0;
    }

    .bp-navs {
        margin: 0;
        width: auto;
        
        li {
            margin-bottom: 0;
            
            &:last-child {
                padding: 0;
            }
        }
    }
}

.notifications-options-nav .select-wrap {
    float: left;
}

@media screen and (max-width: $sm) {
    .notifications-options-nav {
        & > .select-wrap {
            width: 100%;
        }
    }

    .notification-list .bs-header-item .bb-sort-by-date {
        margin-left: 10px;
    }
}

#notifications-bulk-management #notification-select {
    background-position: right 0.6rem center;
    border: 0;
    font-size: 14px;
    height: 34px;
    padding-right: 30px;
    min-width: 125px;
}

.bs-member-notifications {
    .notification-header {
        border: 0;
        padding: 0;
        margin-bottom: 30px;
    }

    .title.title {
        font-size: rem-calc(28px);
    }

    .notification-header a {
        font-size: rem-calc(14px);
    }

    .notification-header .settings {
        color: inherit;
        font-size: rem-calc(22px);
        /*opacity: 0.4;*/
        color: #9CA8B4;
        min-width: 22px;
        text-align: right;
        margin-left: 20px;
    }
}

.notification-wrap {

    &.menu-item-has-children > a:after {
        bottom: -4px;
        left: 0;
    }

    &.menu-item-has-children > a:before {
        content: '';
        display: block;
        position: absolute;
        bottom: 7px;
        left: 4px;
        width: 15px;
        height: 15px;
        background: $color-white;
        border-right: 1px solid $color-border;
        border-bottom: 1px solid $color-border;
        transform: rotate(-135deg);
        opacity: 0;
        visibility: hidden;
    }

    &.menu-item-has-children.selected > a:before {
        opacity: 1;
        visibility: visible;
        z-index: 1002;
    }
}

.circle-mark {
    display: block;
    width: 10px;
    height: 10px;
    border: 2px solid;
    border-radius: 100%;
    color: rgba($color-link, 0.5);

    &.read {
        background: $color-link;
    }
}

.notification-list .unread {
    background: #F7FAFE;
}

.bs-item-list.notification-list .bs-item-wrap {
    &.read-item {
        background: #F7FAFE;
    }

    &:not(.no-hover-effect):hover {
        border-left-color: #F5F5F5;
        border-right-color: #F5F5F5;
    }
}

.unread-item {
    background: #F0F3F7;
}

.notification-list {
    margin-left: 0;

    .site-header & {
        min-width: 420px;
        max-height: 52vh;
        overflow: auto;
        padding-bottom: 0;
        margin-bottom: 0;
        overflow-x: hidden;
    }

    @media( max-width: $sm - 1 ) {
        .site-header & {
            min-width: 330px;
        }
    }

    li {
        @include flex;
        @include flex-items-top;
        padding: 15px 20px;
        border-bottom: 1px solid $color-border;
        position: relative;

        &:hover {
            background: #F5F5F5;

            @media( min-width: 1025px ) {
                .actions {
                    opacity: 1;
                    visibility: visible;
                    transition: 0.2s all;
                }
            }
        }
    }

    .actions {
        @include flex;
        @include flex-items-middle;
        align-self: center;
        padding-left: 5px;
        position: relative;

        @media( min-width: 1025px ) {
            opacity: 0;
            visibility: hidden;
        }
    }

    .actions a {
        display: inline-block;
        padding: 0;
        font-size: 24px;
        margin-left: 4px;
    }

    .bs-item-wrap {
        align-items: center;
    }

    .delete-notification {
        color: $color-headings;
        opacity: 0.4;
        margin-left: 10px;

        &:hover {
            color: $color-link-hover;
            opacity: 1;
        }
    }
}

.menu-item-has-children {
    .notification-list li:last-child {
        margin-bottom: -1px;
    }
}

#header-notification-dropdown .notification-list li {
    padding-right: 12px;
}

.notification-header {
    @include flex;
    @include flex-items-middle;
    padding: 15px 20px;
    border-bottom: 1px solid $color-border;

    a {
        display: block;
        font-size: 13px;
        font-weight: inherit;
        color: $color-link;
        letter-spacing: -0.24px;
        line-height: 1;
        margin: 0 0 0 22px;
        padding: 0;

        &:hover {
            background: transparent;
        }
    }

    a.mark-all-read {
        margin-left: auto;
    }

    .settings {
        color: inherit;

        i {
            margin-left: -7px;
        }
    }

    .title {
        font-size: rem-calc(16px);
        line-height: 1;
        margin: 0;

        & + a {
            margin-left: auto;
        }
    }
}

.notification-avatar {
    margin-right: 10px;
    position: relative;

    img {
        display: block;
        max-width: 36px;
        border-radius: 50%;
    }
}

.notification-content {
    flex: 1;
    font-size: 14px;
    color: $color-small-text;
    letter-spacing: -0.24px;
    line-height: 1.3;
    position: relative;

    a {
        color: $color-headings;

        &:hover {
            background: transparent;
        }

        span {
            color: $color-link;
            display: inline-block;
        }
    }

    .posted {
        display: block;
        margin-top: 3px;
    }
}

.bs-item-wrap {
    .notification-content {
        font-size: 16px;
    }

    span.posted {
        font-size: 14px;
    }

    .notification-avatar {
        margin-right: 20px;
    }
}

.notification-footer {
    position: relative;
    bottom: 0;
    background: $color-white;
    width: 100%;
    border-top: 1px solid $color-border;

    .delete-all {
        font-size: 12px;
        font-weight: 500;
        color: $color-link;
        padding: 12px 0;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .bb-icon-angle-right {
        color: inherit;
        margin-left: 0;
        opacity: 0.6;
    }
}

.bb-full-link {
    font-size: 0;

    & > a {
        cursor: pointer;
        font-size: 0;
        position: absolute;
        width: 100%;
        height: 100%;
        left: 0;
        top: 0;
        opacity: 0;
    }
}

#header-messages-dropdown-elem {
    .notification-link.active i:after {
        right: 0px;
    }
}

body.settings,
body.messages,
body.notifications {
    .bp-vertical-navs {
        #item-body {
            margin: 0;
            padding: 0;
        }
        
        #subnav {
            margin: 0 !important;
        }
    }

    #buddypress.bp-single-vert-nav.bp-vertical-navs .bp-wrap {
        margin-top: 0;
    }
}

@media( min-width: $sm ) {
    #notifications-filter-select {
        .select-wrap {
            margin: 0 0 0 30px;
        }
    }
}

@media( max-width: $sm - 1 ) {
    .bs-member-notifications .bs-item-list.list-view .bs-item-wrap {
        align-items: flex-start;
    }

    section.notifications .notification-list .actions {
        flex: 0 0 100%;
        margin-top: 10px;
        padding-left: 75px;
    }

    .bs-item-wrap span.posted {
        margin-top: 5px;
    }

    .bs-member-notifications .notification-header {
        flex-flow: row wrap;
    }

    #buddypress #item-body .bs-member-notifications .title {
        flex: 0 0 100%;
        margin-bottom: 20px;
    }

    .bs-member-notifications .notification-header a.mark-all-read {
        margin-left: 0;
    }

    .bs-member-notifications .notification-header .settings {
        margin-left: auto;
    }

    #buddypress .notifications-header {
        flex-flow: row wrap;
    }
    
    #buddypress .notifications-header .subnav-filters {
        margin-top: 20px;
        width: 100%;
    }
    
    .notifications-header .subnav-search,
    .notifications-header .notifications-search {
        width: 100%;
    }
    
    #buddypress .notifications-header .bp-navs li:last-child {
        padding-right: 0;
    }
    
    .notifications-header .subnav-filters div {
        margin-top: 0;
        margin-bottom: 0;
    }
}

@media screen and (max-width: 440px) {
    .bb-sort-by-date {
        margin-top: 10px;
        width: 100%;
    }
}

.notification-list .bb-notification-loader {
    display: block !important;
    position: relative;
    width: 40px;
    height: 40px;
    margin: 0 auto;
    i {
        display: inline-block;
        position: absolute;
        left: 8px;
        width: 6px;
        background: #ddd;
        animation: bb-notification-load 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;
    }
    i:nth-child(1) {
        left: 8px;
        animation-delay: -0.24s;
    }
    i:nth-child(2) {
        left: 19px;
        animation-delay: -0.12s;
    }
    i:nth-child(3) {
        left: 30px;
        animation-delay: 0;
    }
  }

  @keyframes bb-notification-load {
    0% {
      top: 4px;
      height: 34px;
    }
    50%, 100% {
      top: 14px;
      height: 12px;
    }
  }
  